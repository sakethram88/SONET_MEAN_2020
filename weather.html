<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Weather</title>
    <script>
        var request = new XMLHttpRequest();
        request.open('GET','https://api.openweathermap.org/data/2.5/group?id=2950158,1264527,1273294,1269843,745044,2643743,3117735,5128638,6455259,1850147&units=metric&appid=071705e45547dbebb6201970279959f2',true)
       request.onload = function(){
           if(request.status >=200 && request.status!=404){
               //succcess
               var data = JSON.parse(request.responseText);
               console.log(data);
           }
           else
           console.log("error");
       };
       request.send();
       
           </script>
</head>
<body>
    <div class="jumbotron jumbotron-fluid bg-dark">
  
        <div class="jumbotron-background">
          <img src="Images\igor-kasalovic-tNDvFkxkBHo-unsplash.jpg" class="blur">
        </div>
        
        <div class="container text-white">
          <h1 class="display-4">Weather</h1>
          <p class="lead">Select a city below to view its live weather</p>
          <div>
            <hr class="my-4">
            <nav class="navbar navbar-expand-lg navbar-light bg-transparent" style="margin-top: 0%;" >
              <a class="navbar-brand" style="color: whitesmoke;" href="index.html">SONET</a>
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                  <a class="nav-item nav-link" style="color: whitesmoke;" href="index.html" tabindex="-1" aria-disabled="true">Home</a>
                  <a class="nav-item nav-link" style="color: whitesmoke;" href="gallery.html" >Photo Gallery</a>
                  <a class="nav-item nav-link active disabled"  href="dynamicjs.html">Weather</a>
                  <a class="nav-item nav-link" style="color: whitesmoke;" href="contactus.html">Contact Us</a>
                  <a class="nav-item nav-link" style="color: whitesmoke;" href="dynamicjs.html">Join Us</a>
                  
            
                  
                      </div>
                    </div>
                    
                  </nav>
                  <hr>
                  <br>
          </div>
          
            
            <div class="container box-body">
                <form>
                  <div class="form-group row">
                      <h3 style="margin-left: 3%;">Select a City</h3>
                    <div class="col-sm-5">
                      <select class="form-control selectpicker" title="City" id="select-country" data-live-search="true" onchange="changeFunc(value);">
                      <option value="" selected disabled>Please select</option>
                      <option data-tokens="Berlin" value="0">Berlin</option>
                      <option data-tokens="Chennai" value="1">Chennai</option>
                      <option data-tokens="Delhi" value="2">Delhi</option>
                      <option data-tokens="Hyderabad" value="3">Hyderabad</option>
                      <option data-tokens="Istanbul" value="4">Istanbul</option>
                      <option data-tokens="London" value="5">London</option>
                      <option data-tokens="Madrid" value="6">Madrid</option>
                      <option data-tokens="New York" value="7">New York</option>
                      <option data-tokens="Paris" value="8">Paris</option>
                      <option data-tokens="Tokyo" value="9">Tokyo</option>
                      </select>
      
                    </div>
                  </div>
                </form>
              

              <div class="container" hidden="true" id="detailstable">
                <table class="table text-white table-responsive col-12">
                      <thead class="thead-outline-dark">
                        <tr>
                          <th style="vertical-align:top;">Name<br></th>
                          <th>Current<br> Temperature</th>
                          <th>Minimum<br> Temperature</th>
                          <th>Maximum <br>Temperature</th>
                          <th style="vertical-align:top;">Wind Speed</th>
                          <th style="vertical-align:top;">Humidity</th>
                        </tr>
                      </thead>
                      <tbody>
                          <tr>
                            <td id="name"></td>
                            <td id="ctemp"></td>  
                            <td id="mintemp"></td>
                            <td id="maxtemp"></td>
                            <td id="wspeed"></td>
                            <td id="hum"></td>
                          </tr>
                      </tbody>
                    </table>
                    
                </div>
            </div>
          </div>
          <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <script>
            function changeFunc(value){
                var data = JSON.parse(request.responseText);
               console.log(data);
               
               document.getElementById("detailstable").removeAttribute("hidden");
               document.getElementById("name").innerHTML = data.list[value].name;
               document.getElementById("ctemp").innerHTML = data.list[value].main.temp +"&#8451";
               document.getElementById("mintemp").innerHTML = data.list[value].main.temp_min +"&#8451";
               document.getElementById("maxtemp").innerHTML = data.list[value].main.temp_max +"&#8451";
               document.getElementById("wspeed").innerHTML = data.list[value].wind.speed+" m/s";
               document.getElementById("hum").innerHTML = data.list[value].main.humidity+"%";

            }
        </script>
</body>
</html>